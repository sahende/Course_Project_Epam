{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Victus/Desktop/Course_Project/lib/authClient.ts"],"sourcesContent":["const AuthClient = {\r\n  async login(email: string, password: string) {\r\n    const res = await fetch('http://localhost:3000/api/auth/login', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      credentials: 'include',\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n    if (!res.ok) {\r\n      let body: any;\r\n      try { body = await res.json(); } catch { body = await res.text(); }\r\n      const msg = body && (body.error || body.message) ? (body.error || body.message) : JSON.stringify(body);\r\n      throw new Error(msg || `Login failed (${res.status})`);\r\n    }\r\n    return res.json();\r\n  },\r\n  async register(email: string, password: string) {\r\n    const res = await fetch('http://localhost:3000/api/auth/register', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n    if (!res.ok) {\r\n      let body: any;\r\n      try { body = await res.json(); } catch { body = await res.text(); }\r\n      const msg = body && (body.error || body.message) ? (body.error || body.message) : JSON.stringify(body);\r\n      throw new Error(msg || `Register failed (${res.status})`);\r\n    }\r\n    return res.json();\r\n  },\r\n};\r\n\r\nexport default AuthClient;\r\n"],"names":[],"mappings":";;;;AAAA,MAAM,aAAa;IACjB,MAAM,OAAM,KAAa,EAAE,QAAgB;QACzC,MAAM,MAAM,MAAM,MAAM,wCAAwC;YAC9D,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,aAAa;YACb,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAO;YAAS;QACzC;QACA,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,IAAI;YACJ,IAAI;gBAAE,OAAO,MAAM,IAAI,IAAI;YAAI,EAAE,OAAM;gBAAE,OAAO,MAAM,IAAI,IAAI;YAAI;YAClE,MAAM,MAAM,QAAQ,CAAC,KAAK,KAAK,IAAI,KAAK,OAAO,IAAK,KAAK,KAAK,IAAI,KAAK,OAAO,GAAI,KAAK,SAAS,CAAC;YACjG,MAAM,IAAI,MAAM,OAAO,CAAC,cAAc,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;QACvD;QACA,OAAO,IAAI,IAAI;IACjB;IACA,MAAM,UAAS,KAAa,EAAE,QAAgB;QAC5C,MAAM,MAAM,MAAM,MAAM,2CAA2C;YACjE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAO;YAAS;QACzC;QACA,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,IAAI;YACJ,IAAI;gBAAE,OAAO,MAAM,IAAI,IAAI;YAAI,EAAE,OAAM;gBAAE,OAAO,MAAM,IAAI,IAAI;YAAI;YAClE,MAAM,MAAM,QAAQ,CAAC,KAAK,KAAK,IAAI,KAAK,OAAO,IAAK,KAAK,KAAK,IAAI,KAAK,OAAO,GAAI,KAAK,SAAS,CAAC;YACjG,MAAM,IAAI,MAAM,OAAO,CAAC,iBAAiB,EAAE,IAAI,MAAM,CAAC,CAAC,CAAC;QAC1D;QACA,OAAO,IAAI,IAAI;IACjB;AACF;uCAEe"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Victus/Desktop/Course_Project/components/Header.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport AuthClient from \"../lib/authClient\";\r\n\r\nexport default function Header() {\r\n  const [signedIn, setSignedIn] = useState(false);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n    const token = window.localStorage.getItem(\"accessToken\");\r\n    setSignedIn(Boolean(token));\r\n  }, []);\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      await AuthClient.logout();\r\n    } catch {}\r\n    // ensure client session cleared\r\n    if (typeof window !== \"undefined\") {\r\n      window.localStorage.removeItem(\"accessToken\");\r\n      window.localStorage.removeItem(\"userEmail\");\r\n    }\r\n    setSignedIn(false);\r\n    router.replace(\"/\");\r\n  }\r\n\r\n  return (\r\n    <header className=\"site-header\">\r\n      <div className=\"inner\">\r\n        <div className=\"brand\">Auth Demo</div>\r\n        <nav className=\"nav\">\r\n          {signedIn ? (\r\n            <button className=\"btn\" onClick={handleLogout}>Logout</button>\r\n          ) : (\r\n            <>\r\n              <a href=\"/\">Home</a>\r\n              <a href=\"/register\">Register</a>\r\n              <a href=\"/login\">Login</a>\r\n            </>\r\n          )}\r\n        </nav>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;4BAAC;YACR;;YACA,MAAM,QAAQ,OAAO,YAAY,CAAC,OAAO,CAAC;YAC1C,YAAY,QAAQ;QACtB;2BAAG,EAAE;IAEL,eAAe;QACb,IAAI;YACF,MAAM,+HAAU,CAAC,MAAM;QACzB,EAAE,OAAM,CAAC;QACT,gCAAgC;QAChC,wCAAmC;YACjC,OAAO,YAAY,CAAC,UAAU,CAAC;YAC/B,OAAO,YAAY,CAAC,UAAU,CAAC;QACjC;QACA,YAAY;QACZ,OAAO,OAAO,CAAC;IACjB;IAEA,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;8BAAQ;;;;;;8BACvB,6LAAC;oBAAI,WAAU;8BACZ,yBACC,6LAAC;wBAAO,WAAU;wBAAM,SAAS;kCAAc;;;;;6CAE/C;;0CACE,6LAAC;gCAAE,MAAK;0CAAI;;;;;;0CACZ,6LAAC;gCAAE,MAAK;0CAAY;;;;;;0CACpB,6LAAC;gCAAE,MAAK;0CAAS;;;;;;;;;;;;;;;;;;;;;;;;AAO/B;GAzCwB;;QAEP,kJAAS;;;KAFF"}}]
}